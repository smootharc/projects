#!/bin/sh

cleanup ()
{
    test -f "$playlist" && rm "$playlist"
}

trap cleanup EXIT

playlist="$(mktemp)"

find ~/Downloads -type f -regextype posix-extended -iregex ".*($(extensions image))$" -printf '%C@\0%p\n' | sort -g | cut -d '' -f 2 > "$playlist"

if test -s "$playlist"; then

    feh -dqFf $playlist > /dev/null 2>&1

else

        echo "No images found!"

fi

find ~/Downloads -type f -regextype posix-extended -iregex ".*($(extensions video))$" -printf '%C@\0%p\n' | sort -g | cut -d '' -f 2 > "$playlist"

if test -s "$playlist"; then

    mpv --really-quiet --playlist="$playlist"

else

    echo "No videos found!"

fi

ddl "$1"
