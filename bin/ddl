#!/bin/bash

t="$1"

rmempty() {

#    find ~/Downloads -type f -size -1024c -delete 2> /dev/null
#    find ~/Downloads -name "_unpack" -prune , -type f -size -16 -execdir rm {} 2> /dev/null \;
    find ~/Downloads -mindepth 1 -type d -empty -delete 2> /dev/null

}

help() {

    echo -e "\nUsage: $(basename $0) M\n\nM must be an integer greater than or equal to zero.  No files deleted.\n"			
    exit "$1"
    
}

trap rmempty EXIT

[[ $# -eq 0 ]] && exit 0

[[ $t == "-h" ]] && help 0

if [[ $t =~ ^[[:digit:]]+$ ]]; then

    find ~/Downloads -mindepth 1 -cmin +"$t" -delete 2> /dev/null

else

    help 1

fi

